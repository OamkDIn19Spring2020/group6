CREATE DATABASE group6;

USE group6;

GRANT ALL PRIVILEGES on group6.* to 'group6'@'localhost' IDENTIFIED BY 'group6_pass';


CREATE TABLE user_database(
    user_id INT primary key auto_increment,
    username VARCHAR(255),
    fname VARCHAR(255),
    lname VARCHAR(255),
    gender VARCHAR(255),
    birthyear SMALLINT,
    email VARCHAR(255),
    password VARCHAR(255) 
) Engine=InnoDB;




CREATE TABLE user(
    user_id INT primary key auto_increment,
    user_name VARCHAR(255)
) Engine=InnoDB;


CREATE TABLE register_user(
    register_user_id INT primary key auto_increment,
    username VARCHAR(255),
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    gender VARCHAR(255) NOT NULL,
    birthyear SMALLINT NOT NULL,
    email VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL
) Engine=InnoDB;

CREATE TABLE member(
    user_id INT NOT NULL,
    register_user_id INT NOT NULL,
    product_purchased INT,
    PRIMARY KEY (user_id, register_user_id),
    FOREIGN KEY (register_user_id)
    REFERENCES register_user(register_user_id)
    ON DELETE RESTRICT ON UPDATE CASCADE,
    FOREIGN KEY (user_id)
    REFERENCES user(user_id)
    ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB;


CREATE TABLE user_stats(
    stats_id INT primary key auto_increment,
    name VARCHAR (255),
    weight VARCHAR(3),
    height VARCHAR(3),
    age VARCHAR(3),
    gender VARCHAR(10),
    DateTime DATE
);



